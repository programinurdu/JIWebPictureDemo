@model JIWebPictureDemo.Models.Student

@{
    ViewBag.Title = "Index";
}

<script type="text/javascript">
    function OnBegin() {
        $('#progress').show();
    }

    function OnSuccess(response) {
        $('#progress').hide();
    }

    function OnFailure(response) {
        $('#progress').hide();
    }
</script>

@*@using (Html.BeginForm("Index", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))*@
@using (Ajax.BeginForm("Index", "Home", FormMethod.Post, new AjaxOptions
{
    OnSuccess = "OnSuccess",
    OnFailure = "OnFailure",
    OnBegin = "OnBegin",
    UpdateTargetId = "successmsg",
    LoadingElementId = "progress"
}, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="form">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="row">
            <div class="col-md-2">
                <div class="row">
                    <div class="col-md-12">
                        <br /> <br />
                        <a href="" onclick="ChangePicture(); return false">
                            <img id="image" src="~/Images/not-available.jpg" alt="" class="img-rounded img-border" width="160" height="160" />
                        </a>
                        <br />
                        <input accept="image/*" type="file" id="upload" name="file" onchange="ReadURL(this);" style="visibility: hidden;" />
                        @*<a href="" onclick="changePicture(); return false">Change Picture</a>*@
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <ul class="list-group">
                            <li class="list-group-item list-group-item-success">Result Info</li>
                            <li class="list-group-item list-group-item-success">Student Fees</li>
                            <li class="list-group-item list-group-item-success">Previous Qaulifications</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-md-10">
                <div class="page-header">
                    <h3>Basic Information</h3>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.StudentId, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.StudentId, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", @style = "max-width: 35%;" } })
                            @Html.ValidationMessageFor(model => model.StudentId, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <!-- hidden -->
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.EditorFor(model => model.StudentType, new { htmlAttributes = new { @class = "form-control" } })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.FullName, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.FullName, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Full Name here" } })
                            @Html.ValidationMessageFor(model => model.FullName, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Email here" } })
                            @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Mobile, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Mobile, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Mobile Number here" } })
                            @Html.ValidationMessageFor(model => model.Mobile, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Telephone, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Telephone, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Telephone Number here" } })
                            @Html.ValidationMessageFor(model => model.Telephone, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="page-header">
                    <h3>Address</h3>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Address1, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Address1, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Street Address here" } })
                            @Html.ValidationMessageFor(model => model.Address1, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Address2, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Address2, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Local area name here" } })
                            @Html.ValidationMessageFor(model => model.Address2, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.City, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter City name here" } })
                            @Html.ValidationMessageFor(model => model.City, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.County, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.County, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter County name here" } })
                            @Html.ValidationMessageFor(model => model.County, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.PostCode, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.PostCode, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Post Code here" } })
                            @Html.ValidationMessageFor(model => model.PostCode, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Notes, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Notes, new { htmlAttributes = new { @class = "form-control", @style = "max-width: 82%; height: 150px;" } })
                            @Html.ValidationMessageFor(model => model.Notes, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <div class="col-md-10">
                            <input type="submit" id="saverecord" data-target="#successErrorModel" value="Save Record" class="btn btn-primary" />
                            @Html.ActionLink("Back to List", "StudentList", "Home", null, new { @class = "btn btn-default" })
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
}

<br />
<div id="successmsg">
    @if (ViewBag.Message  != null)
    {
        <div class="alert alert-success alert-dismissable">
            @ViewBag.Message
            <a href="#" class="close" data-dismiss="alert">x</a>
        </div>
    }
</div>

<div id="progress" class="modal">
    <div class="center">
        <img src="~/Images/loader.gif" />
    </div>
</div>
